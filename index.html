<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BitCoin Tracker</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <!-- Compiled and minified CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
    />

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  </head>
  <body class="grey darken-2 green-text text-lighten-5">
    <header class="container center-align flow-text">
      <h3>Live Bitcoin Price Tracker</h3>
      <p>
        Updated every 3 seconds, a real timely updated bitcoin tracker made with
        socket.io and CoinDesk API to keep you updated with the current price
        for bitcoin in USD
      </p>
    </header>
    <section class="container center-align flow-text" style="margin-top: 15%">
      <div class="card blue-grey darken-1">
        <div class="card-content white-text">
          <span class="card-title">Current price is</span>
          <h5 id="the-price"></h5>
        </div>
      </div>
    </section>
    <footer
      class="container flow-text center-align black"
      style="margin-top: 15%"
    >
      <h6>2021 All Rights Reserved</h6>
    </footer>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io();
      var price_header = document.getElementById("the-price");
      socket.on("price-update", (data) => {
        price_header.innerHTML = data.price + " $";
      });
    </script>
  </body>
</html>
